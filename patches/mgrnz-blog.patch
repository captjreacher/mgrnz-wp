*** Begin Patch
*** Update File: layouts/partials/mailerlite.html
@@
-  // ⬇️ Replace with your actual values from MailerLite
-  ml('account', 'YOUR_ACCOUNT_ID', 'YOUR_SITE');
-  ml('form', 'YOUR_FORM_ID', 'subscription-form-container');
+  // Configure the MailerLite universal script with your account and form IDs
+  ml('account', '1849787');
+  ml('form', '169453382423020905', 'subscription-form-container');
*** End Patch

*** Begin Patch
*** Update File: layouts/index.html
@@
-        <a href="/subscribe/" class="rounded-lg bg-yellow-500 px-6 py-3 font-semibold text-white transition-colors hover:bg-yellow-600">Subscribe</a>
+        <!-- The Subscribe button now triggers the MailerLite popup instead of navigating to a separate page -->
+        <button type="button" onclick="triggerSubscribePopup()" class="rounded-lg bg-yellow-500 px-6 py-3 font-semibold text-white transition-colors hover:bg-yellow-600">
+          Subscribe
+        </button>
*** End Patch

*** Begin Patch
*** Update File: content/subscribe.md
@@
 title: "Subscribe"
 url: "/subscribe/"
+draft: true
@@
-<style>
+<!--
+  The subscribe page is now retired in favor of the pop‑up form. Marking this page as `draft: true`
+  prevents Hugo from generating the page in production. If you still want to provide a fallback
+  for users without JavaScript, you could replace the contents of this file with a simple
+  call to action that triggers the pop‑up or links back to the home page.
+-->
+
+<style>
*** End Patch

*** Begin Patch
*** Update File: layouts/partials/admin-menu.html
@@ loginForm.addEventListener('submit', async (e) => {
-    closeAdminAuthModal()
-    window.location.href = '/admin/'
+    // Restrict access to authorised users only
+    const allowedEmails = ['mike@mgrnz.com']
+    // Check returned user email
+    const userEmail = data?.user?.email || ''
+    if (!allowedEmails.includes(userEmail)) {
+      // Immediately sign out unauthorized users
+      await supabase.auth.signOut()
+      errorBox.textContent = 'Access denied. You do not have permission to access the admin console.'
+      errorBox.classList.remove('hidden')
+      return
+    }
+    closeAdminAuthModal()
+    window.location.href = '/admin/'
*** End Patch
