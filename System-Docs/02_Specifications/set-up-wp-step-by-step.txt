Below is a clean, step-by-step setup plan tuned to your architecture (WordPress canonical â†’ Supabase Edge Functions â†’ Maximised AI web stack).

âš™ï¸ Goal

Have WordPress (mgrnz.com) act as the content source (headless CMS),
and Maximised AI (maximisedai.com / Supabase project) act as the automation + publishing hub.

1ï¸âƒ£ Create or confirm system accounts
Role	Email	Notes
System Admin	admin@mgrnz.com	Site owner address (WP Settings â†’ General).
Primary User	mike@mgrnz.com	Full admin access (for posts, ACF setup).
Automation Service Account	agent@mgrnz.com	Used by Supabase functions to publish/edit via API.
âœ… In WordPress

Go to Users â†’ Add New

Username: agent

Email: agent@mgrnz.com

Role: Author (or custom â€œAPI Publisherâ€ role)

Under Users â†’ agent â†’ Application Passwords, generate one and note it:

WP_USER=agent@mgrnz.com
WP_APP_PASSWORD=<that password>

2ï¸âƒ£ Install the required plugins

Advanced Custom Fields Pro

Create field group â€œPost Meta â€” MGRNZâ€ with fields:

byline (text)
publish_date_override (date)
keywords (text, repeatable)
sources (url, repeatable)
block_data (textarea/json)


Enable â€œShow in REST API.â€

WP Webhooks Pro

Create three outgoing hooks:

post_publish â†’ https://<your-supabase-edge-function>/wp-sync

post_update

post_delete

Payload should include:
post_id, slug, status, origin_site, sync_origin, acf, featured_media.

CORS & Auth helper (or functions.php code):

add_action('rest_api_init', function() {
  remove_filter('rest_pre_serve_request', 'rest_send_cors_headers');
  add_filter('rest_pre_serve_request', function($value) {
    header('Access-Control-Allow-Origin: *');
    header('Access-Control-Allow-Methods: GET, POST, PUT, PATCH, DELETE, OPTIONS');
    header('Access-Control-Allow-Credentials: true');
    return $value;
  });
}, 15);


Optional: Regenerate Thumbnails / Optimole for image size policy.

3ï¸âƒ£ ï¸Configure Supabase environment (Maximised AI)

In your Supabase project linked to Maximised AI (maximisedai.com backend):

Set these in your Edge Function env vars:

WP_API_BASE=https://mgrnz.com
WP_USER=agent@mgrnz.com
WP_APP_PASSWORD=<your-app-password>


Deploy or update your function:

supabase functions deploy wp-to-max

4ï¸âƒ£ Test the connection
ğŸ§ª Test WordPress â†’ Maximised AI (outbound)

Publish a new post on WordPress and check your Supabase function logs:

supabase functions logs --name wp-to-max


You should see the JSON payload arriving.

ğŸ§ª Test Maximised AI â†’ WordPress (inbound)

From Supabase CLI or API, run:

curl -X POST https://mgrnz.com/wp-json/wp/v2/posts \
  -u 'agent@mgrnz.com:<APP_PASSWORD>' \
  -H 'Content-Type: application/json' \
  -d '{ "title": "Integration test", "status": "draft" }'


âœ… Should return 201 Created with post ID.

5ï¸âƒ£ Wire the Writer UI

Your Writer UI (already built by the agent) posts to Supabase â†’ which posts to WordPress.
Confirm the block_data â†’ HTML conversion works and that featured image upload uses /wp-json/wp/v2/media.

6ï¸âƒ£ Media & review policies

Minimum 1280Ã—720 for featured images.

Enforce alt text (UI validation or WP filter).

After setup, run:

wp media regenerate --yes

7ï¸âƒ£ Final sign-off checklist
Task	Status
ACF group visible in REST	â˜
REST API auth via App Password works	â˜
CORS returns correct headers	â˜
Webhooks (publish/update/delete) trigger Supabase	â˜
Writer UI successfully creates posts	â˜
Featured images attach & display	â˜
Two test posts synced end-to-end	â˜

When all those boxes tick âœ…, your WordPress â†” Maximised AI link is live.