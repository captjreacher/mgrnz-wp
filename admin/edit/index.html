<!doctype html><html lang=en class=dark><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Edit Post | Welcome to the Personal Blog of Mike G Robinson</title><meta name=description content="Mike is an unashamed evangelist of AI, ricidivous vibe-coder, and lifelong learner. A seasoned technology professional and entrepreneur based in Auckland, New Zealand, Mike has over 30 years of experience spanning IT security, SAP configuration, data migration, and business consulting. In early 2025, Mike founded Maximised AI after several months deep diving AI. Mike has since developed a string of successful AI-powered products and services aimed at helping businesses leverage the power of AI to drive productivity and growth."><meta name=author content="Mike G Robinson"><meta property="og:title" content="Edit Post"><meta property="og:description" content="Mike is an unashamed evangelist of AI, ricidivous vibe-coder, and lifelong learner. A seasoned technology professional and entrepreneur based in Auckland, New Zealand, Mike has over 30 years of experience spanning IT security, SAP configuration, data migration, and business consulting. In early 2025, Mike founded Maximised AI after several months deep diving AI. Mike has since developed a string of successful AI-powered products and services aimed at helping businesses leverage the power of AI to drive productivity and growth."><meta property="og:type" content="website"><meta property="og:url" content="http://mgrnz.com/admin/edit/"><meta property="og:image" content="http://mgrnz.com/images/BLUE-LOGO.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Edit Post"><meta name=twitter:description content="Mike is an unashamed evangelist of AI, ricidivous vibe-coder, and lifelong learner. A seasoned technology professional and entrepreneur based in Auckland, New Zealand, Mike has over 30 years of experience spanning IT security, SAP configuration, data migration, and business consulting. In early 2025, Mike founded Maximised AI after several months deep diving AI. Mike has since developed a string of successful AI-powered products and services aimed at helping businesses leverage the power of AI to drive productivity and growth."><link rel=icon type=image/png href=/images/BLOG-LOGO.png><script src=https://cdn.tailwindcss.com></script><script>tailwind.config={darkMode:"class",theme:{extend:{colors:{"brand-orange":"#ff4f00","brand-yellow":"#ffcf00","brand-blue":"#89bbfe"}}}}</script><link rel=stylesheet href=/css/custom.min.css><link rel=stylesheet href="/css/custom.css?v=1761619509"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel=stylesheet><link rel=alternate type=application/rss+xml href=http://mgrnz.com/admin/edit/index.xml><title>Edit Post - Admin | Welcome to the Personal Blog of Mike G Robinson</title><script src=https://cdn.tailwindcss.com></script><style>body{background-color:#0f172a!important}</style></head><body class="min-h-screen bg-neutral-900 text-white"><header class="sticky top-0 z-20 border-b border-neutral-700 bg-neutral-800"><div class="flex items-center justify-between px-6 py-4"><div class="flex items-center gap-4"><a href=/ class="text-orange-500 hover:text-orange-400 transition-colors">‚Üê Back to Site</a><h1 class="text-xl font-bold text-white">Edit Post</h1></div><nav class="flex items-center space-x-4"><a href=/admin/ class="rounded-lg px-3 py-2 text-sm font-medium text-neutral-300 hover:bg-neutral-700 hover:text-white transition-colors">üìä Dashboard
</a><a href=/admin-form-v2.html class="rounded-lg px-3 py-2 text-sm font-medium text-neutral-300 hover:bg-neutral-700 hover:text-white transition-colors">‚úèÔ∏è Create
</a><a href=/admin/posts/ class="rounded-lg px-3 py-2 text-sm font-medium text-neutral-300 hover:bg-neutral-700 hover:text-white transition-colors">üìù Posts
</a><button onclick=manageGitHubToken() class="rounded-lg px-3 py-2 text-sm font-medium text-neutral-300 hover:bg-neutral-700 hover:text-white transition-colors">
‚öôÔ∏è Settings</button></nav></div></header><main class="mx-auto max-w-6xl px-6 py-8"><div class=space-y-8><div class="flex items-center justify-between"><div><h2 class="text-3xl font-bold text-white">Edit Post</h2><p class="mt-2 text-neutral-400" id=editingPost>Select a post to edit</p></div><div class="flex gap-3"><a href=/admin/posts/ class="rounded-lg bg-neutral-700 px-4 py-2 text-sm font-medium text-white hover:bg-neutral-600">‚Üê Back to Posts</a></div></div><div class="rounded-lg bg-white p-6 shadow-lg" id=postSelector><h3 class="text-lg font-semibold text-neutral-900 mb-4">Select Post to Edit</h3><div class="grid gap-3"><button onclick='loadPost("index")' class="flex items-center justify-between p-4 border border-neutral-200 rounded-lg hover:bg-neutral-50 text-left"><div><h4 class="font-medium text-neutral-900">My CV</h4><p class="text-sm text-neutral-600">Jul 1, 2025</p></div><svg class="h-5 w-5 text-neutral-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></button></div></div><div class="rounded-lg bg-white p-8 shadow-lg hidden" id=editForm><form id=postForm class=space-y-6><input type=hidden id=postSlug><div class="grid gap-6 md:grid-cols-2"><div><label class="block text-sm font-medium text-neutral-700 mb-2">Post Slug</label>
<input id=slug disabled class="w-full rounded-lg border-4 border-neutral-500 px-4 py-2 text-neutral-500 bg-neutral-100"><p class="mt-1 text-xs text-neutral-500">Slug cannot be changed after creation</p></div><div><label class="block text-sm font-medium text-neutral-700 mb-2">Publish Date</label>
<input id=date type=date class="w-full rounded-lg border-4 border-neutral-500 px-4 py-2 text-white bg-neutral-800 focus:border-orange-500 focus:ring-4 focus:ring-orange-300"></div></div><div><label class="block text-sm font-medium text-neutral-700 mb-2">Post Title</label>
<input id=title required class="w-full rounded-lg border-4 border-neutral-500 px-4 py-2 text-white bg-neutral-800 focus:border-orange-500 focus:ring-4 focus:ring-orange-300"></div><div class="grid gap-6 md:grid-cols-2"><div><label class="block text-sm font-medium text-neutral-700 mb-2">Tags</label>
<input id=tags class="w-full rounded-lg border-4 border-neutral-500 px-4 py-2 text-white bg-neutral-800 focus:border-orange-500 focus:ring-4 focus:ring-orange-300"><p class="mt-1 text-xs text-neutral-500">Comma-separated tags</p></div><div><label class="block text-sm font-medium text-neutral-700 mb-2">Categories</label>
<input id=categories class="w-full rounded-lg border-4 border-neutral-500 px-4 py-2 text-white bg-neutral-800 focus:border-orange-500 focus:ring-4 focus:ring-orange-300"><p class="mt-1 text-xs text-neutral-500">Comma-separated categories</p></div></div><div><label class="block text-sm font-medium text-neutral-700 mb-2">Summary/Excerpt</label>
<textarea id=summary rows=3 class="w-full rounded-lg border-4 border-neutral-500 px-4 py-2 text-white bg-neutral-800 focus:border-orange-500 focus:ring-4 focus:ring-orange-300"></textarea></div><div><label class="block text-sm font-medium text-neutral-700 mb-2">Content</label>
<textarea id=content rows=20 class="w-full rounded-lg border-4 border-neutral-500 px-4 py-2 text-white bg-neutral-800 focus:border-orange-500 focus:ring-4 focus:ring-orange-300 font-mono text-sm"></textarea><p class="mt-1 text-xs text-neutral-500">Edit the markdown content directly</p></div><div><label class="flex items-center"><input id=draft type=checkbox class="rounded border-neutral-300 text-orange-600 focus:ring-orange-500">
<span class="ml-2 text-sm text-neutral-700">Save as draft</span></label></div><div class="flex justify-end gap-3 pt-6 border-t border-neutral-200"><button type=button onclick=showPostSelector() class="rounded-lg border border-neutral-300 px-6 py-2 text-sm font-medium text-neutral-700 hover:bg-neutral-50">
‚Üê Back to Selection
</button>
<button type=submit class="rounded-lg bg-orange-600 px-6 py-2 text-sm font-medium text-white hover:bg-orange-700">
Save Changes</button></div></form></div><div id=loading class="hidden text-center py-8"><div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"></div><p class="mt-2 text-neutral-400">Loading...</p></div></div><script>let currentSlug=null;function getUrlParameter(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)"),t=n.exec(location.search);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))}async function loadPost(e){currentSlug=e,showLoading();try{const n=await fetch(`http://localhost:3002/api/posts/${e}`),t=await n.json();t.success?(populateForm(e,t.content),showEditForm()):(alert("Error loading post: "+t.error),showPostSelector())}catch(e){alert("Error connecting to API: "+e.message),showPostSelector()}}function parseFrontmatter(e){const i=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t=i.split(`
`);if(console.log("Normalized content lines:",t.slice(0,10)),t[0]!=="---")return{frontmatter:{},content:e};let n=-1;for(let e=1;e<t.length;e++)if(t[e]==="---"){n=e;break}if(n===-1)return{frontmatter:{},content:e};const s=t.slice(1,n),a=t.slice(n+1);console.log("Frontmatter lines:",s);const o={};return s.forEach(e=>{const t=e.indexOf(":");if(t>0){const s=e.substring(0,t).trim();let n=e.substring(t+1).trim();console.log(`Parsing: "${s}" = "${n}"`),(n.startsWith('"')&&n.endsWith('"')||n.startsWith("'")&&n.endsWith("'"))&&(n=n.slice(1,-1)),n.startsWith("[")&&n.endsWith("]")&&(n=n.slice(1,-1).split(",").map(e=>e.trim().replace(/['"]/g,""))),n==="true"&&(n=!0),n==="false"&&(n=!1),o[s]=n}}),{frontmatter:o,content:a.join(`
`).trim()}}function populateForm(e,t){console.log("Raw content from API:",t),console.log("First 200 chars:",t.substring(0,200));const{frontmatter:n,content:o}=parseFrontmatter(t);console.log("Parsed frontmatter:",n),console.log("Parsed content:",o.substring(0,100)),console.log("Date value:",n.date,"Type:",typeof n.date);let s=e;if(n.date){let e=String(n.date).trim();if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,o]=e.split("-");s=`/${t}/${n}/`,console.log("Parsed date parts:",{year:t,month:n,day:o})}else{const t=new Date(e);if(!isNaN(t.getTime())){const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0");s=`/${e}/${n}/`,console.log("Parsed with Date constructor:",{year:e,month:n})}}}console.log("Final slug:",s),document.getElementById("postSlug").value=e,document.getElementById("slug").value=s,document.getElementById("title").value=n.title||"",document.getElementById("date").value=n.date||"",document.getElementById("tags").value=Array.isArray(n.tags)?n.tags.join(", "):n.tags||"",document.getElementById("categories").value=Array.isArray(n.categories)?n.categories.join(", "):n.categories||"",document.getElementById("summary").value=n.summary||"",document.getElementById("content").value=o,document.getElementById("draft").checked=n.draft===!0,document.getElementById("editingPost").textContent=`Editing: ${n.title||e}`}function generateMarkdown(){const o=document.getElementById("title").value,i=document.getElementById("date").value,t=document.getElementById("tags").value.split(",").map(e=>e.trim()).filter(Boolean),n=document.getElementById("categories").value.split(",").map(e=>e.trim()).filter(Boolean),s=document.getElementById("summary").value,a=document.getElementById("content").value,r=document.getElementById("draft").checked;let e=`---
`;return e+=`title: "${o.replace(/"/g,'\\"')}"
`,e+=`date: ${i}
`,e+=`draft: ${r}
`,n.length&&(e+=`categories: [${n.map(e=>`"${e.replace(/"/g,'\\"')}"`).join(", ")}]
`),t.length&&(e+=`tags: [${t.map(e=>`"${e.replace(/"/g,'\\"')}"`).join(", ")}]
`),s.trim()&&(e+=`summary: "${s.replace(/"/g,'\\"')}"
`),e+=`---

`,e+a}async function savePost(){if(!currentSlug)return;showLoading();try{const t=generateMarkdown(),n=await fetch(`http://localhost:3002/api/posts/${currentSlug}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t})}),e=await n.json();e.success?(alert("Post saved successfully!"),showEditForm()):(alert("Error saving post: "+e.error),showEditForm())}catch(e){alert("Error connecting to API: "+e.message),showEditForm()}}function showPostSelector(){document.getElementById("postSelector").classList.remove("hidden"),document.getElementById("editForm").classList.add("hidden"),document.getElementById("loading").classList.add("hidden"),document.getElementById("editingPost").textContent="Select a post to edit"}function showEditForm(){document.getElementById("postSelector").classList.add("hidden"),document.getElementById("editForm").classList.remove("hidden"),document.getElementById("loading").classList.add("hidden")}function showLoading(){document.getElementById("postSelector").classList.add("hidden"),document.getElementById("editForm").classList.add("hidden"),document.getElementById("loading").classList.remove("hidden")}function updateSlugFromDate(){const e=document.getElementById("date"),t=document.getElementById("slug");if(e.value){const n=new Date(e.value+"T00:00:00");if(!isNaN(n.getTime())){const s=n.getFullYear(),o=String(n.getMonth()+1).padStart(2,"0"),e=`/${s}/${o}/`;t.value=e,console.log("Updated slug to:",e)}}}document.getElementById("postForm").addEventListener("submit",function(e){e.preventDefault(),savePost()}),document.getElementById("date").addEventListener("change",updateSlugFromDate),window.addEventListener("load",function(){const e=getUrlParameter("post");e&&loadPost(e)})</script></main><script>function manageGitHubToken(){const e=localStorage.getItem("github_token"),t=e?"Yes (hidden for security)":"No",n=confirm(`GitHub Token Status: ${t}

Do you want to update/set your GitHub token?

Click OK to set a new token, or Cancel to clear it.`);if(n){const e=prompt(`Enter your GitHub Personal Access Token:

(Create one at: github.com/settings/tokens with "repo" scope)`);e&&(localStorage.setItem("github_token",e),alert("‚úÖ GitHub token saved successfully!"))}else confirm("Clear the saved GitHub token?")&&(localStorage.removeItem("github_token"),alert("‚úÖ GitHub token cleared."))}</script></body></html>